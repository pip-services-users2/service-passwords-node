FROM node:14-alpine

# Set working directory
WORKDIR /app

# Copy project file
COPY package.json .

RUN npm install typescript -g

# Install ALL node_modules, including 'devDependencies'
RUN npm install

# Copy entire project
COPY . .

# Compile source in typescript
RUN tsc